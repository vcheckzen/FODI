<!doctype html><html><head><script>window.GLOBAL_CONFIG={SCF_GATEWAY:"//tight-bar-e3b3.logi.workers.dev",SITE_NAME:"FODI",IS_BUSINESS:!1,PRELOAD:!1}</script><meta charset="utf-8"><meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport"><link rel="icon" href="data:;base64,=" type="image/x-icon"><link href="//cdn.bytedance.com/cdn/expire-1-M/material-design-iconic-font/2.2.0/css/material-design-iconic-font.min.css" type="text/css" rel="stylesheet"><style>.sk-folding-cube{margin:20px auto;width:40px;height:40px;position:relative;-webkit-transform:rotateZ(45deg);transform:rotateZ(45deg)}.sk-folding-cube .sk-cube{float:left;width:50%;height:50%;position:relative;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.sk-folding-cube .sk-cube:before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background-color:#868686;-webkit-animation:sk-foldCubeAngle 2.4s infinite linear both;animation:sk-foldCubeAngle 2.4s infinite linear both;-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%}.sk-folding-cube .sk-cube2{-webkit-transform:scale(1.1) rotateZ(90deg);transform:scale(1.1) rotateZ(90deg)}.sk-folding-cube .sk-cube3{-webkit-transform:scale(1.1) rotateZ(180deg);transform:scale(1.1) rotateZ(180deg)}.sk-folding-cube .sk-cube4{-webkit-transform:scale(1.1) rotateZ(270deg);transform:scale(1.1) rotateZ(270deg)}.sk-folding-cube .sk-cube2:before{-webkit-animation-delay:.3s;animation-delay:.3s}.sk-folding-cube .sk-cube3:before{-webkit-animation-delay:.6s;animation-delay:.6s}.sk-folding-cube .sk-cube4:before{-webkit-animation-delay:.9s;animation-delay:.9s}@-webkit-keyframes sk-foldCubeAngle{0%,10%{-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{-webkit-transform:perspective(140px) rotateX(0);transform:perspective(140px) rotateX(0);opacity:1}100%,90%{-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0}}@keyframes sk-foldCubeAngle{0%,10%{-webkit-transform:perspective(140px) rotateX(-180deg);transform:perspective(140px) rotateX(-180deg);opacity:0}25%,75%{-webkit-transform:perspective(140px) rotateX(0);transform:perspective(140px) rotateX(0);opacity:1}100%,90%{-webkit-transform:perspective(140px) rotateY(180deg);transform:perspective(140px) rotateY(180deg);opacity:0}}html [data-hidden='1']{display:none}.dplayer{aspect-ratio:16/9}.list-header{padding:0}.list-header .file>div{display:flex;align-items:center;cursor:pointer;font-weight:700;column-gap:.3em;user-select:none}.list-header .file>div:active{color:#5a6585}.list-header i{font-size:1em!important}.upload-entry-wrapper{height:2.5em;display:flex;border-bottom:solid #dad7d7 1px}.upload-entry-btn{width:100%;height:100%;text-align:center;border:none;outline:0;background:#fff;cursor:pointer}.file-upload-chooser,.password-wrapper{display:flex;align-items:center;justify-content:center;column-gap:.6em;margin-top:1em;height:2.5em}.password{display:flex;column-gap:.6em;height:100%}.password input{padding:0 .5em;outline:0;border:solid #dad7d7 1px}.file-upload-chooser button,.file-upload-chooser select,.file-upload-label,.password button{background:#fff;height:100%;outline:0;border:solid #dad7d7 1px}.file-upload-chooser button:active,.file-upload-label:active,.password button:active,.upload-entry-btn:active{color:#fff;background:#dad7d7}.file-upload-wrapper,.password-wrapper{font-size:.8em;padding:0 1em}.file-upload-input{display:none}.file-upload-label{display:flex;align-items:center;padding:0 .5em}.file-upload-name{white-space:nowrap;overflow:hidden;width:10em;text-align:center}.file-upload-progress{margin:1em 0;padding:1em;background-color:#f7f8fa;white-space:nowrap;width:fit-content;min-width:100%;display:grid}.file-upload-progress .log-separator{background-image:url("data:image/svg+xml;utf8,<svg width='9' height='9' xmlns='http://www.w3.org/2000/svg' version='1.1'><text y='10'>=</text></svg>");padding:5px 0;margin:5px 0}.markdown-body,.markdown-body *{font-family:initial}.markdown-alert{padding:0 1em;margin-bottom:16px;color:inherit;border-left:.25em solid #444c56}.markdown-alert-title{display:inline-flex;align-items:center;font-weight:500}.markdown-alert-note{border-left-color:#539bf5}.markdown-alert-tip{border-left-color:#57ab5a}.markdown-alert-important{border-left-color:#986ee2}.markdown-alert-warning{border-left-color:#c69026}.markdown-alert-caution{border-left-color:#e5534b}.markdown-alert-note>.markdown-alert-title{color:#539bf5}.markdown-alert-tip>.markdown-alert-title{color:#57ab5a}.markdown-alert-important>.markdown-alert-title{color:#986ee2}.markdown-alert-warning>.markdown-alert-title{color:#c69026}.markdown-alert-caution>.markdown-alert-title{color:#e5534b}.mr-2{margin-right:.5rem}code,code *,pre,pre *{font-family:Consolas,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,Cascadia Code,monospace!important}.preview{font-size:.8em;height:100%}.preview .content{clear:both;padding:0 1em 1em 1em;margin:0 auto;width:fit-content;height:fit-content;min-width:100%;display:flex;flex-direction:column}.preview .content pre{margin:0}.file-name{line-height:1em;padding:1em 1em 0;text-align:center;white-space:nowrap;overflow:hidden}.btn{float:right;text-align:center;border:solid #dad7d7 1px;border-radius:1em;margin:1em .2em;width:4em;height:2em;line-height:2em;user-select:none;-moz-user-select:none;-o-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none}.btn:active{color:#fff;background:#dad7d7}.btn.download{margin-right:1em}.loading-wrapper{position:fixed;height:2em;line-height:2em;margin-top:.5em;width:100%;z-index:1}.loading{color:#fff;background:#dad7d7;height:100%;width:fit-content;min-width:8em;padding:0 1em;margin:0 auto;text-align:center;border-radius:1em}i{font-size:1.5em!important}i.disabled{color:#dad7d7}*{box-sizing:border-box;font-family:serif;outline:0;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.markdown-body{width:100%;margin:0 auto;padding:.7em 1em;font-size:.9em}.markdown-body h1,h2,h3,h4,h5,h6{margin-top:0}.markdown-body img{max-width:90%;max-height:800px;width:auto;height:auto;display:block;margin:0 auto}body{width:100%;height:100%;margin:0;padding:0}.header-wrapper{position:fixed;height:3em;width:100%;-moz-user-select:none;-o-user-select:none;-khtml-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.header{padding:0 1.8em 0 1em;height:100%;display:flex;align-items:center;border-bottom:solid #dad7d7 1px}.logo{margin-right:.3em}.site{white-space:nowrap;font-weight:700}.nav{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.nav-arr,.nav-path{font-size:1em;height:1.5em;margin-right:.3em;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;cursor:default}#arrow-back,#arrow-forward{color:#000;cursor:pointer}#arrow-back[disabled],#arrow-forward[disabled]{color:#dad7d7;cursor:initial}#arrow-back:not([disabled]):active,#arrow-forward:not([disabled]):active,#main-page:active,.nav-path:active,.row.file-wrapper:active,.tree-node:active{color:#5a6585;cursor:pointer}.container{position:fixed;width:100%;height:calc(100% - 3em);margin-top:3em}.main{position:relative;height:100%;width:100%}.left{position:absolute;width:20%;height:100%;font-size:.8em;overflow:scroll}.tree-node-wrapper{display:table;margin-left:1.5em}.tree-node{display:flex;align-items:center}.tree-node>i{text-align:center;min-width:.8em}.tree-node-name{margin-left:.3em;white-space:nowrap}.right{position:absolute;width:80%;height:100%;margin-left:20%;overflow:scroll}.row{height:2.5em;padding:0 .8em 0 1em;display:flex;align-items:center;border-bottom:solid #dad7d7 1px}.row.file-wrapper{font-size:.8em;padding:0 1em;height:2em}.row.file-wrapper i{min-width:1em}.file{width:100%;display:flex;align-items:center}.name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:70%;padding-left:.3em}.list-header .name{display:flex;align-items:center;width:calc(70% + 1.1em);padding-left:0}.lastModifiedDateTime{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;justify-content:right;width:133px}.size{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin-left:auto;display:flex;text-align:right}.size .unit{width:1.7em}#back-to-top{position:fixed;right:1em;bottom:1em;font-size:2em;color:rgb(90 90 90 / 30%);cursor:pointer}#back-to-top:active{color:rgb(0 0 0)}@media (hover:hover) and (pointer:fine){.btn:hover,.file-upload-chooser button:hover,.file-upload-label:hover,.password button:hover,.upload-entry-btn:hover{color:#fff;background:#dad7d7}#arrow-back:not([disabled]):hover,#arrow-forward:not([disabled]):hover,#main-page:hover,.list-header .file>div:hover,.nav-path:hover,.row.file-wrapper:hover,.tree-node:hover{color:#5a6585;cursor:pointer}#back-to-top:hover{color:rgb(0 0 0)}}@media screen and (max-width:1000px){.left{display:none}.right{width:100%;margin-left:initial}}@media screen and (max-width:800px){.name{width:60%}.list-header .name{width:calc(60% + 1.1em)}.file-name{overflow-x:auto;height:100%}}@media screen and (max-width:600px){.name{width:70%}.lastModifiedDateTime{display:none!important}.header{padding:0 .3em}.row{padding:0 .3em}.row.file-wrapper{padding:0 .3em;height:3em}.markdown-body{padding:.6em .3em}.file-name{padding:1em .3em 0}.content{padding:0 .3em}.btn.download{margin-right:.3em}.logo{width:1.6em}#main-page{margin-right:0}}</style><script>async function sendRequest(e,t,n,r,o,a,i=0){const d={method:e,headers:r||{},body:n};try{const e=new AbortController,n=setTimeout((()=>e.abort()),6e4);d.signal=e.signal;const r=await fetch(t,d);if(clearTimeout(n),!r.ok)throw new Error(`HTTP error! Status: ${r.status}`);o(await r.text())}catch(d){console.log({url:t,data:n,times:i}),i<1?sendRequest(e,t,n,r,o,a,i+1):"function"==typeof a&&a()}}function fromCdn(e,...t){const n={jsdelivr:"//gcore.jsdelivr.net/npm",taobao:"//registry.npmmirror.com",bytedance:"//cdn.bytedance.com/cdn/expire-1-M"}[e];return t.map((e=>`${n}${e}`))}function loadResource(...e){const t=e.flat();return Promise.all(t.map((function(e){window.resourceCache[e]||(window.resourceCache[e]=new Promise(((t,n)=>{const r=5e3;let o;switch(e.split(".").pop()){case"css":o=document.createElement("link"),o.href=e,o.rel="stylesheet";break;case"js":o=document.createElement("script"),o.src=e;break;default:return n(new Error("Unsupported resource type"))}let a=!1;function i(t){a||(document.head.removeChild(o),delete window.resourceCache[e],n(new Error(`${t}: ${e}`)))}o.onload=()=>{a=!0,t()},o.onerror=()=>i("Failed to load resource"),setTimeout((()=>i("Resource loading timed out")),r),document.head.insertBefore(o,document.head.firstElementChild)})));return window.resourceCache[e]})))}function putPreviewLoadingAnimation(e){const t="string"==typeof e?document.querySelector(e):e;t.querySelector(".sk-folding-cube")||(t.innerHTML="",t.appendChild(document.getElementById("loading-wrapper-template").content.cloneNode(!0)))}function switchGlobalLoadingIndicator(e){const t=document.querySelector(".loading-wrapper");"0"!==t.dataset.hidden?(e=e||"Loading...",t.querySelector(".loading").innerText=e,t.dataset.hidden="0"):e?(t.querySelector(".loading").innerText=e,setTimeout((()=>t.dataset.hidden="1"),3e3)):t.dataset.hidden="1"}function renderPage(e,t,n){let r;switchGlobalLoadingIndicator(),n||document.getElementById("back-to-top").click(),e?.parent?(r=e,window.fileCache.set(r.parent,r),preCache(r,0)):r=t,r.parent===window.backForwardCache.current&&(renderPath(r.parent),r.encrypted?handleEncryptedFolder(r):renderFileList(r,n),renderTreeNode(r))}function renderPath(e){const t=(e,t)=>{const n=document.createElement("span");return n.innerHTML=e.length>20?e.substring(0,20)+"..":e,n.className="/"===e?"nav-arr":"nav-path",t&&addPathListener(n,t),n},n=e.split("/"),r=document.getElementById("path");r.innerHTML="",r.appendChild(t(window.api.root));let o="/";for(let e=1;e<n.length;e++)o+=n[e],r.appendChild(t(n[e],o)),e!==n.length-1&&(r.appendChild(t("/")),o+="/")}function renderFileList(e,t){switchRightDisplay("list");const n=(e,t,n,r,o,a)=>{const i=document.getElementById("file-wrapper-template").content.cloneNode(!0);return i.querySelector("i").className=`zmdi zmdi-${e}`,i.querySelector(".name").innerText=t,i.querySelector(".lastModifiedDateTime").innerText=(e=>{const t=e=>`${e}`.padStart(2,"0");return`${(e=new Date(e)).getFullYear()}-${t(e.getMonth()+1)}-${t(e.getDate())} ${t(e.getHours())}:${t(e.getMinutes())}:${t(e.getSeconds())}`})(n),[i.querySelector(".size .value").innerText,i.querySelector(".size .unit").innerText]=(e=>{let t=0;for(;e>=1024;)e/=1024,t++;return[e.toFixed(2),`${["","K","M","G","T","P"][t]}B`]})(r),addFileListLineListener(i.querySelector(".row.file-wrapper"),o,a,r),i},r=[],o=e.parent===window.api.root?"":e.parent;if(e.files.forEach((t=>{"readme.md"===t.name.toLowerCase()?t.url&&renderMarkdown(e.parent+("/"===e.parent?"":"/")+t.name,t.url):".upload"===t.name?(document.querySelector(".upload-entry-wrapper").dataset.hidden="0",document.querySelector(".upload-entry-btn").onclick=()=>{window.backForwardCache.preview=!0,switchRightDisplay("upload")}):(t.toFragment||(t.toFragment=n.bind(null,t.url?"file":"folder",t.name,t.lastModifiedDateTime,t.size,o+"/"+t.name,t.url)),r.push(t))})),!e.lazyRenderStat){e.lazyRenderStat={pageSize:200};const t=e.lazyRenderStat;t.observer=new IntersectionObserver((n=>{Date.now()-t.lastRenderedTs<=500||n.forEach((n=>{if(n.isIntersecting)return t.lastRenderedTs=Date.now(),void(t.renderedItems>=t.children.length&&e.skipToken?loadNextPage(e):i())}))}))}const a=e.lazyRenderStat;function i(t){const n=a.renderedItems;a.renderedItems+=a.pageSize,a.renderedItems=Math.min(a.renderedItems,a.children.length);const r=a.children.slice(n,a.renderedItems);e.compare&&window.GLOBAL_CONFIG.IS_BUSINESS&&t&&r.sort(e.compare);const o=document.createDocumentFragment();o.append(...r.map((({toFragment:e})=>e())));const i=document.getElementById("file-list");0===n?i.replaceChildren(o):(i.lastElementChild.style.backgroundColor="#f1f1f1",i.appendChild(o)),a.observer?.disconnect(),(e.skipToken||a.renderedItems<a.children.length)&&a.observer.observe(i.lastElementChild)}a.children=r,!e.compare||e.skipToken||t||a.children.sort(e.compare),t||(a.renderedItems=0,e.compare&&e.skipToken&&window.GLOBAL_CONFIG.IS_BUSINESS&&a.children.sort(e.compare)),i(t)}async function renderTreeNode(e){const t=(e,t,n,r)=>{const o=document.getElementById("tree-node-wrapper-template").content.cloneNode(!0),a=o.querySelectorAll("i");return a[0].className=`zmdi zmdi-${e}`,a[1].className=`zmdi zmdi-${t}`,o.querySelector(".tree-node-name").innerText=n,o.appendNode=e=>o.querySelector(".tree-node-wrapper").append(e),addTreeNodeListener(o.querySelector(".tree-node"),r),o},n=e.parent.split("/"),r=e=>{let t="";for(let r=1;r<=e;r++)t+="/"+n[r];return t},o=n.length-1;let a=t("caret-down","folder-outline",n[o],r(o));e.files.forEach((n=>{n.url||a.appendNode(t("caret-right","folder",n.name,e.parent+"/"+n.name))}));for(let e=o-1;e>0;e--){const o=r(e),i=t("caret-down","folder",n[e],o),d=window.fileCache.get(o);d?d.files.forEach((r=>{r.url||(r.name===n[e+1]?i.appendNode(a):i.appendNode(t("caret-right","folder",r.name,o+"/"+r.name)))})):i.appendNode(a),a=i}const i=document.getElementById("tree-root");i.innerHTML="";const d=window.fileCache.get(window.api.root),c=a.querySelector(".tree-node-name").innerText;d?d.files.forEach((e=>{e.url||(e.name===c?i.append(a):i.append(t("caret-right","folder",e.name,window.api.root+e.name)))})):i.append(a)}async function renderMarkdown(e,t){const n=()=>window.backForwardCache.current+("/"===window.backForwardCache.current?"":"/")+"README.md"===e;n()&&putPreviewLoadingAnimation("#readme"),await loadResource(fromCdn("taobao","/marked/15.0.4/files/marked.min.js","/marked-highlight/2.2.1/files/lib/index.umd.js"),fromCdn("bytedance","/github-markdown-css/5.1.0/github-markdown-light.min.css","/highlight.js/11.4.0/styles/github.min.css","/highlight.js/11.4.0/highlight.min.js"));const r=t=>{const r=window.fileCache.get(e);if(r&&!0!==r||window.fileCache.set(e,t),!n()&&!window.backForwardCache.preview)return;const o=e=>{if(e.startsWith("http")||e.startsWith("//"))return e;const t=new URL(window.backForwardCache.current+"/",location),n=new URL(e,t).href.slice(location.origin.length),r=n.slice(0,n.lastIndexOf("/"))||"/";return window.fileCache.get(r)?.files.find((({name:e})=>e===n.split("/").pop()))?.url||window.GLOBAL_CONFIG.SCF_GATEWAY.replace(/\/$/,"")+n},a=new marked.Renderer;if(a.image=e=>`<img src="${o(e.href)}" alt="${e.text}">`,a.link=e=>`<a href="${o(e.href)}">${e.text}</a>`,t=new marked.Marked(markedHighlight.markedHighlight({langPrefix:"hljs language-",highlight(e,t,n){const r=hljs.getLanguage(t)?t:"plaintext";return hljs.highlight(e,{language:r}).value}})).parse(t,{gfm:!0,renderer:a}),n())document.getElementById("readme").innerHTML=t;else if(window.backForwardCache.preview){const e=document.createElement("div");e.classList.add("markdown-body"),e.innerHTML=t;const n=document.querySelector(".content");n.innerHTML="",n.appendChild(e)}},o=window.fileCache.get(e);!0===o?setTimeout((()=>renderMarkdown(e,t)),300):o?r(o):(window.fileCache.set(e,!0),sendRequest("GET",t,null,null,(e=>r(e)),(()=>window.fileCache.set(e,!1))))}function handleEncryptedFolder(e){switchRightDisplay("encrypted");const t=document.querySelector(".password"),n=t.querySelector("input"),r=t.querySelector("button"),o=r.parentElement,a=r.cloneNode(!0);o.replaceChild(a,r),n.placeholder="请输入密码",a.addEventListener("click",(t=>{const r=n.value;n.value&&(n.value="",n.placeholder="正在验证..",sendRequest(window.api.method,window.api.url,window.api.formatPayload(e.parent,r),window.api.headers,(e=>{const t=JSON.parse(e);t.encrypted?n.placeholder="密码错误":(window.fileCache.set(t.parent,t),window.fileCache.set(`${t.parent}/.password`,r),fetchFileList(t.parent))})))}))}function addPathListener(e,t){e.addEventListener("click",(e=>{fetchFileList(t),switchBackForwardStatus(t)}))}function addTreeNodeListener(e,t){e.addEventListener("click",(e=>{fetchFileList(t),switchBackForwardStatus(t)}))}function addFileListLineListener(e,t,n,r){n?e.addEventListener("click",(e=>{window.backForwardCache.preview=!0;const o=document.querySelector(".content");putPreviewLoadingAnimation(o),switchRightDisplay("preview");const a=(e,t)=>{let n=!1;const r=document.createElement("pre");r.style.opacity="0",r.textContent=t||e.textContent,document.body.appendChild(r);try{const e=document.createRange();e.selectNode(r),window.getSelection().removeAllRanges(),window.getSelection().addRange(e),document.execCommand("copy"),window.getSelection().removeAllRanges(),n=!0}catch(e){}return document.body.removeChild(r),n},i=e=>["mp3","flac","wav"].includes(e)?"audio":["bmp","jpg","png","svg","webp","gif"].includes(e)?"image":["md"].includes(e)?"markdown":["doc","docx","ppt","pptx","xls","xlsx","mpp","rtf","vsd","vsdx"].includes(e)?"office":["pdf"].includes(e)?"pdf":["txt","ini","conf","js","ts","json","css","html","xml","yml","yaml","toml","java","kt","clj","scala","groovy","asm","c","h","cpp","hpp","cc","cs","d","rs","swift","m","r","ml","fs","erl","dart","lisp","php","pas","f90","cbl","cmd","vb","vbs","ps1","bat","sh","awk","vim","pl","py","rb","go","asp","hs","rkt","lua","sql"].includes(e)?"text":["upload"].includes(e)?"upload":["mp4","avi","mkv","flv","m3u8"].includes(e)?"video":["videomagnet"].includes(e)?"videomagnet":void 0,d=(e,t,n)=>loadResource(fromCdn("bytedance","/hls.js/1.1.5/hls.light.min.js","/flv.js/1.6.2/flv.min.js","/dplayer/1.25.0/DPlayer.min.css","/dplayer/1.25.0/DPlayer.min.js")).then((()=>{const r={url:e};"flv"===t?r.type="flv":"m3u8"===t&&(r.type="hls"),new DPlayer({container:n,screenshot:!0,video:r})})),c=(e="预览失败")=>{const t=document.createElement("div");t.style.textAlign="center",t.innerHTML=e,o.innerHTML="",o.appendChild(t)},l=()=>{let e=null;const t=document.querySelector(".right"),n=r=>{e||(e=r);const o=r-e,a=t.scrollTop;t.scrollTo(0,t.scrollTop+14),t.scrollTop!==a&&o<2e3&&window.requestAnimationFrame(n)};window.requestAnimationFrame(n)};if(0===r)c("空文件");else{const e=t.split("/").pop(),a=e.includes(".")?e.split(".").pop().toLowerCase():"__no_suffix__",s=i(a);switch(s){case"audio":const e=new Audio;e.style.outline="none",e.preload="auto",e.controls="controls",e.style.width="100%",e.src=n,o.innerHTML="",o.append(e);break;case"image":const i="undefined"==typeof Fancybox;loadResource(fromCdn("taobao","/@fancyapps/ui/5.0.36/files/dist/fancybox/fancybox.css","/@fancyapps/ui/5.0.36/files/dist/fancybox/fancybox.umd.js")).then((()=>{i&&Fancybox.bind("[data-fancybox]");const e=new Image;e.style.maxWidth="100%",e.src=n;const t=document.createElement("a");t.setAttribute("data-fancybox",""),t.dataset.src=n,t.append(e),o.innerHTML="",o.append(t)})).catch(c);break;case"markdown":renderMarkdown(t,n);break;case"office":case"pdf":const w=("office"===s?"//view.officeapps.live.com/op/view.aspx?src=":"//mozilla.github.io/pdf.js/web/viewer.html?file=")+encodeURIComponent(n),u=document.createElement("div");if(u.style.lineHeight="2em",u.style.background="rgba(218, 215, 215, 0.21)",u.style.webkitTapHighlightColor="rgba(0, 0, 0, 0)",u.style.cursor="pointer",u.style.textAlign="center",u.innerHTML="新窗口打开",u.addEventListener("click",(()=>window.open(w))),o.innerHTML="",o.appendChild(u),document.body.clientWidth>=480){const e=document.createElement("iframe");e.width="100%",e.style.aspectRatio="16 / 9",e.style.border="0",e.src=w,o.appendChild(e)}break;case"text":if(r>2048e3){c("文件过大");break}loadResource(fromCdn("bytedance","/highlight.js/11.4.0/styles/github.min.css","/highlight.js/11.4.0/highlight.min.js")).then((()=>{sendRequest("GET",n,null,null,(e=>{const t=document.createElement("pre");t.style.background="rgb(247, 248, 250)",t.style.padding="5px",o.innerHTML="",o.append(t),t.textContent=e,r<=512e3&&hljs.highlightElement(t)}))})).catch(c);break;case"video":const p=document.createElement("div");d(n,a,p).then((()=>{o.innerHTML="",o.append(p),l()})).catch(c);break;case"videomagnet":fetch(n).then((e=>e.text())).then((e=>{loadResource(fromCdn("jsdelivr","/@webtor/embed-sdk-js/dist/index.min.js")).then((()=>{const t=document.createElement("div");t.id="player",t.className="webtor",t.style.width="100%",t.style.display="flex",t.style.alignItems="center",t.style.aspectRatio="16 / 9",t.style.backgroundColor="black",o.innerHTML="",o.appendChild(t),window.webtor=window.webtor||[],window.webtor.push({id:"player",width:"100%",magnet:e.trim()}),l()}))})).catch(c);break;default:c("该文件不支持预览")}}document.querySelector(".file-name").innerHTML=t,document.querySelector(".btn.download").addEventListener("click",(()=>location.href=n)),document.querySelector(".btn.quote").addEventListener("click",(e=>{a(null,window.api.url+t);const n=document.querySelector(".btn.quote");n.innerHTML="已复制",setTimeout((()=>n.innerHTML="引用"),250)})),document.querySelector(".btn.share").addEventListener("click",(e=>{a(null,window.location.origin+window.location.pathname+"?path="+(()=>{const e=window.backForwardCache.current.split("/");let t="";for(let n=1;n<e.length;n++)t+="/"+e[n];return t})());const t=document.querySelector(".btn.share");t.innerHTML="已复制",setTimeout((()=>t.innerHTML="分享"),250)}))})):e.addEventListener("click",(e=>{fetchFileList(t),switchBackForwardStatus(t)}))}function addBackForwardListener(){document.getElementById("arrow-back").addEventListener("click",back),document.getElementById("arrow-forward").addEventListener("click",forward),document.querySelector("#main-page").addEventListener("click",(()=>{fetchFileList(window.api.root),switchBackForwardStatus(window.api.root)}))}function addFileUploadListener(){const e=document.querySelector(".file-upload-input"),t=document.querySelector(".file-upload-name");e.addEventListener("change",(function(){1===e.files.length?t.textContent=e.files[0].name:e.files.length>1?t.textContent=e.files[0].webkitRelativePath?.split("/")[0]||`共 ${e.files.length} 个文件`:t.textContent="未选择文件"}))}function addBackToTopListener(){const e=document.querySelector(".main .right"),t=document.getElementById("back-to-top");t.addEventListener("click",(()=>e.scrollTo(0,0))),e.addEventListener("scroll",(()=>t.dataset.hidden=e.scrollTop>500?"0":"1"))}function switchRightDisplay(e){for(const e of document.querySelector(".right").children)e.dataset.hidden="1";if("preview"!==e&&(document.querySelector(".preview .content").innerHTML=""),"preview"===e)document.querySelector(".preview").dataset.hidden="0";else if("encrypted"===e)document.querySelector(".password-wrapper").dataset.hidden="0";else if("upload"===e)document.querySelector(".file-upload-progress").innerHTML="",document.querySelector(".file-upload-progress").dataset.hidden="1",document.querySelector(".file-upload-wrapper").dataset.hidden="0";else if("list"===e){const e=window.fileCache.get(window.backForwardCache.current)?.orderby;document.querySelectorAll(".list-header .row .file > div").forEach((t=>{const n=t.querySelector("i");new RegExp(t.className,"i").test(e)?n.className="zmdi zmdi-chevron-"+(e.includes("desc")?"down":"up"):n.className="zmdi zmdi-chevron-up disabled"})),document.querySelector("#readme").innerHTML="",document.querySelector(".list-header").dataset.hidden="0",document.querySelector("#file-list").dataset.hidden="0",document.querySelector(".markdown-body").dataset.hidden="0"}document.querySelector(".main").dataset.hidden="0"}function switchBackForwardStatus(e){e&&(window.backForwardCache.deepest=e),window.backForwardCache.root!==window.backForwardCache.current?(window.backForwardCache.backable=!0,document.getElementById("arrow-back").removeAttribute("disabled")):(window.backForwardCache.backable=!1,document.getElementById("arrow-back").setAttribute("disabled",!0)),window.backForwardCache.deepest!==window.backForwardCache.current?(window.backForwardCache.forwardable=!0,document.getElementById("arrow-forward").removeAttribute("disabled")):(window.backForwardCache.forwardable=!1,document.getElementById("arrow-forward").setAttribute("disabled",!0))}function back(){if(window.backForwardCache.backable)if(window.backForwardCache.preview)fetchFileList(window.backForwardCache.current);else{let e=(()=>{const e=window.backForwardCache.current.lastIndexOf("/");return window.backForwardCache.current.substring(0,e)})();e=e||window.api.root,fetchFileList(e),switchBackForwardStatus()}}function forward(){if(!window.backForwardCache.forwardable)return;const e=window.backForwardCache.current===window.api.root?"":window.backForwardCache.current,t=e?e.length:0;fetchFileList(e+"/"+window.backForwardCache.deepest.substring(t).split("/")[1]),switchBackForwardStatus()}async function preCache(e,t){window.GLOBAL_CONFIG.PRELOAD&&(t>1||e.files.forEach((n=>{const r=("/"===e.parent?"":e.parent)+"/"+n.name;n.url?n.name.endsWith(".md")&&(window.fileCache.set(r,!0),sendRequest("GET",n.url,null,null,(e=>window.fileCache.set(r,e)),(()=>window.fileCache.set(r,!1)))):(window.fileCache.set(r,!0),sendRequest(window.api.method,window.api.url,window.api.formatPayload(r),window.api.headers,(e=>{const n=JSON.parse(e);window.fileCache.set(r,n),preCache(n,t+1)}),(()=>window.fileCache.set(r,!1))))})))}async function preCacheCheck(e,t){window.GLOBAL_CONFIG.PRELOAD&&e.files.forEach((e=>{const n=(t===window.api.root?"":t)+"/"+e.name,r=window.fileCache.get(n);e.url?e.name.endsWith(".md")&&(r||!0===r||(window.fileCache.set(n,!0),sendRequest("GET",e.url,null,null,(e=>window.fileCache.set(n,e)),(()=>window.fileCache.set(n,!1))))):r?r.files&&preCacheCheck(r,n):(window.fileCache.set(n,!0),sendRequest(window.api.method,window.api.url,window.api.formatPayload(n),window.api.headers,(e=>{const t=JSON.parse(e);window.fileCache.set(n,t),preCache(t,0)}),(()=>window.fileCache.set(n,!1))))}))}function sortList(e){const t=window.fileCache.get(window.backForwardCache.current),n=e.className,r=e.querySelector("i").className.includes("up")?"desc":"asc",o="asc"===r?1:-1;t.orderby=`${n} ${r}`,t.compare=(e,t)=>o*e[n].toString().localeCompare(t[n].toString(),void 0,{numeric:!0,sensitivity:"base"}),t.skipToken&&!window.GLOBAL_CONFIG.IS_BUSINESS?(window.fileCache.set(t.parent,!1),fetchFileList(t.parent,t.orderby)):renderFileList(t)}function fetchFileList(e,t){switchGlobalLoadingIndicator(),window.backForwardCache.preview=!1,window.backForwardCache.current=e;const n=window.fileCache.get(e);if(!0===n)setTimeout((()=>fetchFileList(e)),300);else if(n)renderPage(null,n),preCacheCheck(n,e);else{const n=()=>{window.fileCache.set(e,!1),switchGlobalLoadingIndicator("Failed!")};window.fileCache.set(e,!0),sendRequest(window.api.method,window.api.url,window.api.formatPayload(e,window.fileCache.get(`${e}/.password`),{orderby:t}),window.api.headers,(e=>{try{e=JSON.parse(e)}catch(e){return void n()}e.error||void 0===e.files?n():renderPage(e)}),n)}}function loadNextPage(e){if(e.loadingInProgress)return;switchGlobalLoadingIndicator("Loading next page..."),e.loadingInProgress=!0;const t=()=>{switchGlobalLoadingIndicator("Failed!"),e.loadingInProgress=!1};sendRequest(window.api.method,window.api.url,window.api.formatPayload(e.parent,window.fileCache.get(`${e.parent}/.password`),{skipToken:e.skipToken,orderby:e.orderby}),window.api.headers,(n=>{try{n=JSON.parse(n)}catch(e){return void t()}n.error||void 0===n.files?t():(e.files=e.files.concat(n.files),e.skipToken=n.skipToken,e.loadingInProgress=!1,renderPage(null,e,!0))}),t)}function uploadFiles(){const e=Array.from(document.getElementById("file-upload-input").files);if(!e.length)return;const t=window.backForwardCache.current;const n=function(e,t){const n=[];for(let r=0;r<e.length;r+=t)n.push(e.slice(r,r+t));return n}(e.map((e=>({remotePath:`${t}/${r(e)}`,fileSize:e.size?1:0}))),20);function r(e){return`${e.webkitRelativePath||e.name}`}function o(){const e=document.querySelector(".file-upload-progress"),t=document.createElement("div"),n=document.createElement("div");return e.appendChild(n),n.appendChild(t),t}o().className="log-separator",document.querySelector(".file-upload-progress").dataset.hidden="0",function a(i=0){if(i>=n.length)return window.fileCache.delete(window.backForwardCache.current),void(o().className="log-separator");const d=n[i];sendRequest(window.api.method,window.api.url+"?upload",window.api.formatPayload(t,window.fileCache.get(`${t}/.password`),{files:d}),window.api.headers,(n=>{const d=JSON.parse(n).files;Promise.all(d.map((({remotePath:n,uploadUrl:a})=>async function(e,t){const n=10485760,a=e.size;let i=0,d=0;const c=o();if(0===a)w();else for(;d<a;)try{await l(d),d=Math.min(d+n,a)}catch(e){if(!await s(e))return void(c.innerHTML+=" <mark>Upload failed!</mark>")}async function l(r){const o=Math.min(r+n,a),d=e.slice(r,o),c=await fetch(t,{method:"PUT",headers:{"Content-Range":`bytes ${r}-${o-1}/${a}`},body:d});return c.ok&&(i=o,w()),c.status}async function s(e){let n=10,r=1;for(;n>0;){if(n--,416===e)return await new Promise((e=>sendRequest("GET",t,null,null,(t=>{d=parseInt(JSON.parse(t).nextExpectedRanges[0].split("-")[0]),e()})))),!0;await new Promise((e=>setTimeout(e,Math.min(1e3*(r*=2),32e3))));try{return await l(d),!0}catch(t){e=t}}return!1}function w(){const t=a?Math.round(i/a*100):100,n="["+"=".repeat(t/5)+" ".repeat(20-t/5)+"]";c.textContent=`${r(e)}: ${n} ${t}%`}c.innerHTML+=" Upload completed!"}(e.find((e=>`${t}/${r(e)}`===n)),a)))).finally((()=>a(i+1)))}))}(0)}document.addEventListener("DOMContentLoaded",(()=>{document.title=window.GLOBAL_CONFIG.SITE_NAME,document.querySelector(".site").textContent=window.GLOBAL_CONFIG.SITE_NAME,window.api={root:"/",url:window.GLOBAL_CONFIG.SCF_GATEWAY,method:"POST",formatPayload:(e,t,n)=>{const r={path:e,passwd:t,...n};return window.GLOBAL_CONFIG.IS_BUSINESS&&delete r.orderby,JSON.stringify(r)},headers:{"Content-type":"application/json; charset=utf-8"}},window.backForwardCache={root:window.api.root,deepest:window.api.root,current:window.api.root,backable:!1,forwardable:!1,preview:!1},window.fileCache=new Map,window.resourceCache=Object.create(null);fetchFileList(new URLSearchParams(window.location.search).get("path")||window.api.root),addBackForwardListener(),addFileUploadListener(),addBackToTopListener()}))</script></head><body><template id="tree-node-wrapper-template"><div class="tree-node-wrapper"><div class="tree-node"><i></i> <i></i><div class="tree-node-name"></div></div></div></template><template id="file-wrapper-template"><div class="row file-wrapper"><div class="file"><i></i> <span class="name"></span> <span class="lastModifiedDateTime"></span><div class="size"><span class="value"></span> <span class="unit"></span></div></div></div></template><template id="loading-wrapper-template"><div class="sk-folding-cube"><div class="sk-cube1 sk-cube"></div><div class="sk-cube2 sk-cube"></div><div class="sk-cube4 sk-cube"></div><div class="sk-cube3 sk-cube"></div></div></template><div class="loading-wrapper"><div class="loading">Loading...</div></div><div class="header-wrapper"><div class="header"><i id="arrow-back" disabled="disabled" class="zmdi zmdi-arrow-left logo"></i> <i id="arrow-forward" disabled="disabled" class="zmdi zmdi-arrow-right logo"></i> <i id="main-page" class="zmdi zmdi-folder logo"></i><div class="nav"><span id="path"></span></div><span class="site" id="nav-site">ONEDRIVE</span></div></div><div class="container"><div class="main" data-hidden="1"><div class="left"><div id="tree-root"></div></div><div class="right"><div class="upload-entry-wrapper"><button class="upload-entry-btn">在此上传文件</button></div><div class="list-header"><div class="row"><div class="file"><div class="name" onclick="sortList(this)"><span>ITEMS</span> <i class="zmdi zmdi-chevron-up"></i></div><div class="lastModifiedDateTime" onclick="sortList(this)"><span>TIME</span> <i class="zmdi zmdi-chevron-up"></i></div><div class="size" onclick="sortList(this)"><span>SIZE</span> <i class="zmdi zmdi-chevron-up"></i></div></div></div></div><div id="file-list"></div><div class="markdown-body"><div id="readme"></div></div><div class="preview"><div class="info"><div class="file-name"></div><div class="btn download">下载</div><div class="btn quote">引用</div><div class="btn share">分享</div></div><div class="content"></div></div><div class="password-wrapper"><div class="password"><input type="password"> <button>提交</button></div></div><div class="file-upload-wrapper"><div class="file-upload-chooser"><select onchange='document.getElementById("file-upload-input").webkitdirectory=this.value'><option value="">上传文件</option><option value="1">上传文件夹</option></select> <label for="file-upload-input" class="file-upload-label">选择文件</label> <input class="file-upload-input" type="file" id="file-upload-input" multiple="multiple"> <span class="file-upload-name">未选择文件</span> <button onclick="uploadFiles()">上传</button></div><div class="file-upload-progress"></div></div></div></div></div><div id="back-to-top" data-hidden="1"><i class="zmdi zmdi-caret-up-circle"></i></div></body></html>